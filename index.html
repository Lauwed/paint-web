<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Paint</title>
    <link rel="stylesheet" href="https://unpkg.com/98.css" />
  </head>

  <body>
    <div class="paint window h-full">
      <header class="title-bar">
        <div class="title-bar-text flex items-center">
          <img width="20" height="20" src="/logo.png" /> Dev Girl - Paint
        </div>

        <div class="title-bar-controls">
          <button aria-label="Minimize"></button>
          <button aria-label="Maximize"></button>
          <button aria-label="Close"></button>
        </div>
      </header>

      <main class="paint__body window-body">
        <div class="menu">
          <button id="save">Sauvegarder</button>

          <button id="logs-button" data-modal="logs">Logs</button>

          <button id="logout">Se déconnecter</button>
        </div>

        <!-- Sidebar -->
        <div class="sidebar">
          <ul class="toolbar">
            <li class="toolbar__item">
              <button id="eraser" aria-label="Gomme"></button>
            </li>
            <li class="toolbar__item">
              <button id="brush" aria-label="Pinceau" class="active"></button>
            </li>
          </ul>

          <ul class="online" id="online-users"></ul>

          <div class="color">
            <div class="color__square"></div>
            <div class="color__square"></div>
          </div>
        </div>

        <!-- Canvas + Properties -->
        <div class="content">
          <div id="canvas-container" class="canvas">
            <canvas class="canvas__grid" id="canvas-grid">Fallback text</canvas>
            <canvas class="canvas__drawing" id="canvas">Fallback text</canvas>
            <div id="brush-cursor" class="brush-cursor"></div>
          </div>

          <div class="properties">
            <ul class="properties__list">
              <li class="properties__item">
                <button>Saturation</button>
                <div class="properties__item__submenu">
                  <input
                    name="saturation"
                    type="range"
                    min="1"
                    max="100"
                    value="50"
                  />
                  <p><span>50</span>%</p>
                </div>
              </li>
              <li class="properties__item">
                <button>Luminosité</button>
                <div class="properties__item__submenu">
                  <input
                    name="luminosity"
                    type="range"
                    min="1"
                    max="100"
                    value="50"
                  />
                  <p><span>50</span>%</p>
                </div>
              </li>
              <li class="properties__item">
                <button>Taille</button>
                <div class="properties__item__submenu">
                  <input name="size" type="range" min="1" max="50" value="7" />
                  <p><span>7</span>px</p>
                </div>
              </li>
            </ul>
          </div>
        </div>

        <!-- Logs Modal -->
        <dialog class="logs window" id="logs">
          <header class="login__header title-bar">
            <div class="title-bar-text flex items-center">
              <img width="20" height="20" src="/windows.png" />
              Log In
            </div>

            <div class="title-bar-controls">
              <button aria-label="Minimize" disabled></button>
              <button aria-label="Maximize" disabled></button>
              <button aria-label="Close" autofocus class="logs__close"></button>
            </div>
          </header>

          <div class="window-body logs__container">
            <table class="logs__list">
              <thead>
                <tr>
                  <th>Timestamp</th>
                  <th>User</th>
                  <th>Action</th>
                </tr>
              </thead>

              <tbody id="logs-list"></tbody>
            </table>
          </div>

          <div class="status-bar">
            <p class="status-bar-field">Press F1 for help</p>
            <p class="status-bar-field">Slide 1</p>
            <p class="status-bar-field">CPU Usage: 14%</p>
          </div>
        </dialog>

        <!-- Login Modal -->
        <dialog id="login" class="login window">
          <header class="login__header title-bar">
            <div class="title-bar-text flex items-center">
              <img width="20" height="20" src="/windows.png" />
              Log In
            </div>

            <div class="title-bar-controls">
              <button aria-label="Minimize" disabled></button>
              <button aria-label="Maximize" disabled></button>
              <button aria-label="Close" disabled></button>
            </div>
          </header>

          <div class="window-body login__body">
            <a
              href="https://id.twitch.tv/oauth2/authorize?client_id=bogukfbk1bpf9tgex1zan5xsew7nlj&redirect_uri=https://paint.lauradurieux.dev&response_type=token&scope="
              class="button login__button"
              >Log with Twitch</a
            >

            <p class="login__error" id="login-error"></p>
          </div>
        </dialog>
      </main>

      <div class="status-bar">
        <p class="status-bar-field">Press F1 for help</p>
        <p class="status-bar-field">Slide 1</p>
        <p class="status-bar-field">CPU Usage: 14%</p>
      </div>
    </div>

    <script src="/src/main.js" type="module"></script>
  </body>
</html>
